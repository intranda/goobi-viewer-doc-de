# 2.4 URL Konfiguration

Der Goobi viewer bietet an mehreren Stellen die Möglichkeit, zu externen Systemen zu verlinken. An dieser Stelle werden entsprechend diejenigen Parameter erläutert, die für diese Verlinkung zuständig sind.

Folgende Elemente enthalten absolute URLs zum aktuell angezeigten Werk über die OAI-Schnittstelle im METS, MARCXML oder Dublin Core Format. Der Goobi viewer fügt jeweils den Identifier des aktuellen Werks an diese URL an.

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <metadata>
        <mets>https://viewer.example.org/viewer/oai?verb=GetRecord&amp;metadataPrefix=mets&amp;identifier=</mets>
        <marc>https://viewer.example.org/viewer/oai?verb=GetRecord&amp;metadataPrefix=marcxml&amp;identifier=</marc>
        <dc>https://viewer.example.org/viewer/oai?verb=GetRecord&amp;metadataPrefix=oai_dc&amp;identifier=</dc>
        <ese>https://viewer.example.org/viewer/oai?verb=GetRecord&amp;metadataPrefix=europeana&amp;identifier=</ese>
    </metadata>
</urls>
```
{% endcode %}

Absolute URL zum Apache Solr. Der Solr Index ist die Haupt-Datenquelle für den Goobi viewer. Aus Performanzgründen sollte sich dieser auf derselben Maschine beziehungsweise im lokalen Netzwerk befinden.

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <solr>http://localhost:8080/solr</solr>
</urls>
```
{% endcode %}

Relative URL zur intranda ContentServer Bibliothek, die das Bildmaterial für den Goobi viewer liefert. Ist das Attribut external auf `true` gesetzt, kann eine vollständige URL zu einem intranda ContentServer angegeben werden. Aus Sicherheitsgründen sollte diese URL nur lokal erreichbar sein.

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <contentServer external="false">/</contentServer>
</urls>
```
{% endcode %}

Externe URL des intranda ContentServer. Dieser Wrapper führt zusätzliche Überprüfungen durch, etwa Zugriffsrechte auf zugriffsbeschränkte Bilder oder die maximal zulässige Bildgröße.

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <contentServerWrapper>https://viewer.example.org/viewer/content</contentServerWrapper>
</urls>
```
{% endcode %}

Absolute URL zum DFG Viewer.

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <dfg-viewer>http://dfg-viewer.de/show?set[mets]=</dfg-viewer>
</urls>
```
{% endcode %}

Basis-URL zur REST-API:

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <rest>https://viewer.example.org/viewer/rest</rest>
</urls>
```
{% endcode %}

URL zur IIIF Image API Schnittstelle:

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <iiif useForCmsMedia="true">https://viewer.example.org/viewer/rest</iiif>
</urls>
```
{% endcode %}

{% hint style="warning" %}
Die URL zur IIIF Schnittstelle ist **nur für Entwickler interessant**, bei der der Goobi viewer in einer lokalen Entwicklungsumgebung läuft, aber die Bilder von einem externen System eingebunden werden sollen. Der Schalter muss auf Kundensystemen immer auskommentiert oder nicht vorhanden sein.

Wird das Attribut `useForCmsMedia` auf `false` gesetzt, werden Bild-Urls von Mediendateien aus dem CMS-System weiterhin mit der in `<rest>` angegebenen URL abgefragt. Dadurch können CMS-Medien auf dem lokalen System verwaltet werden. Der Default ist `true`.
{% endhint %}

Die URL des intranda-TaskManagers, auf dem das Plugin zur PDF-Erzeugung liegt, wenn der Goobi viewer einen TaskManager zur PDF-Erzeugung verwendet. 

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <taskManager>http://localhost:8080/itm/</taskManager>
</urls>
```
{% endcode %}

Sofern PDF und ePub-Dateien zum Download angeboten werden, muss die URL zu dem Servlet benannt werden:

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <download>https://viewer.example.org/viewer/download/</download>
</urls>
```
{% endcode %}

Um die Version des Connectors auf dem Dashboard im Backend anzuzeigen muss die URL zu dessen Versionsausgabe Endpoint definiert sein:

{% code title="config\_viewer.xml" %}
```markup
<urls>
    <connectorVersion>http://localhost:8080/M2M/oai/tools?action=getVersion</connectorVersion>
</urls>
```
{% endcode %}

