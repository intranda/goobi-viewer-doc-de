# 2.17.3 Erweiterte Suche

Es existiert eine erweiterte Suche, bei der gezielt in einzelnen Metadatenfeldern gesucht werden kann.

![Erweiterte Suche](../../.gitbook/assets/2.17.3.png)

Die Konfiguration hierfür findet folgendermaßen statt:

{% code-tabs %}
{% code-tabs-item title="config\_viewer.xml" %}
```markup
<search>
    <advanced>
        <enabled>true</enabled>
        <defaultItemNumber>2</defaultItemNumber>
        <searchFields>
            <field>DEFAULT</field>
            <field>FULLTEXT</field>
            <field>OVERVIEWPAGE</field>
            <field>PI_TOPSTRUCT</field>
            <field>DOCSTRCT</field>
            <field>MD_TITLE</field>
            <field>MD_PUBLISHER</field>
            <field untokenizeForPhraseSearch="true">MD_SHELFMARK</field>
            <field>MD_YEARPUBLISH</field>
            <field hierarchical="true">DC</field>
        </searchFields>
   </advanced>
</search>
```
{% endcode-tabs-item %}
{% endcode-tabs %}

| **Option**  | Beschreibung |
| :--- | :--- |
| **enabled** | Schaltet die erweiterte Suche an oder ab. Der Standardwert ist `true` |
| **defaultItemNumber** | Anzahl der angezeigten Suchfelder |
| **searchFields**  | Indexfelder, die für die durchsuchbar sein sollen \(Diese stehen zur Auswahl im Drop-Down Menü\). Die Auswahl `Alle Felder` gibt es immer. Diese Auswahl bewirkt, dass der entsprechende Begriff über alle Metadaten und Volltext- Felder gesucht wird \(und auch in nutzergenerierten Inhalten, falls Crowdsourcing Modul aktiviert ist - analog zur Standardsuche „in allen Daten“. Zusätzlich können die Felder `DEFAULT` \(Suche in Metadaten\) und `FULLTEXT` \(Suche in Volltexten\) definiert werden, um entsprechende Filterung auch in der erweiterten Suche zu ermöglichen. Achtung: das Feld `PI_TOPSTRUCT` muss hier definiert sein, damit die  Suche innerhalb eines Werkes funktioniert.  |
| **searchFields/@hierachical** | Wenn das Element das Attribut `hierarchical="true"` besitzt, wird in dieser Zeile statt eines Eingabefeldes automatisch eine hierarchisch sortierte Liste der im Index vorhandenen Kollektionen als Drop-Down-Menü angezeigt.  |
| **searchFields/@untokenizeForPhraseSearch** | Das Attribut `untokenizeForPhraseSearch="true"` bewirkt, dass für die Phrasensuche automatisch die `_UNTOKENIZED` Version des Feldes verwendet wird, um nur komplette und keine enthaltenen Übereinstimmungen zuzulassen \(etwa für eine Signaturensuche\). |

{% hint style="info" %}
Die Felder `DOCSTRCT`, `DOCSTRCT_TOP` und `DOCSTRCT_SUB` werden gesondert behandelt und automatisch als DropDown-Menü angezeigt.
{% endhint %}

