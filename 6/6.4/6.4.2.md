# 6.4.2 Einstellungen im Goobi viewer

Das Metadatum `viewerSubTheme` wird innerhalb des Solr Index in ein eigenständiges Feld geschrieben. Dafür muss in der Konfigurationsdatei solr\_indexerconfig.xml folgende Felddefinition hinzugefügt werden:

{% code title="solr\_indexerconfig.xml" %}
```markup
<init>
    <namespaces>
        <list>
            <intranda>https://intranda.com/MODS/</intranda>
        </list>
    </namespaces>
<init>

[...]

<fields>
    <MD2_VIEWERSUBTHEME>
        <list>
            <item>
                <xpath>mets:xmlData/mods:mods/mods:extension/intranda:viewersubtheme</xpath>
                <addToDefault>false</addToDefault>
                <addUntokenizedVersion>false</addUntokenizedVersion>
            </item>
        </list>
    </MD2_VIEWERSUBTHEME>
</fields>
```
{% endcode %}

Im Goobi viewer Core muss folgende Anpassung für die korrekte Auswertung vorgenommen werden:

{% code title="config\_viewer.xml" %}
```markup
<viewer>
    <theme mainTheme="reference" 
           discriminatorField="MD2_VIEWERSUBTHEME" />
</viewer>
```
{% endcode %}

In der Datei `template.html` wird nun nach dem custom.css folgender Block hinzugefügt:

{% code title="template.html" %}
```markup
<!-- SUBTHEME CSS -->
<h:panelGroup rendered="#{navigationHelper.subThemeDiscriminatorValue != null and navigationHelper.subThemeDiscriminatorValue != '-'}">
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/css/dist/#{navigationHelper.subThemeDiscriminatorValue}.min.css" />
</h:panelGroup>
```
{% endcode %}

Für jedes Subtheme gibt es eine eigene CSS-Datei, dass eigene CSS-Definitionen für dieses Theme enthält. Über die Reihenfolge des Einbindens in der Datei `template.html` kann in dieser subthemespezifischen Datei jeder Wert der globalen Datei `viewer.css` oder themespezifischen Datei `custom.min.css` mit subthemeeigenen Werten überschrieben werden.

